<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Assessments</title>
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/css/main.css" rel="stylesheet">
  <style>
    body {
      background-color: #f9f9f9;
      margin: 0;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      color: #333;
    }
    main {
      padding: 20px;
    }
    section {
      margin-bottom: 20px;
      padding: 15px;
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    section h2 {
      color: #007bff;
    }
    ul {
      padding-left: 20px;
    }
    ul li {
      margin-bottom: 10px;
    }
    footer {
      text-align: center;
      padding: 10px 0;
      background-color: #007bff;
      color: white;
      margin-top: 20px;
    }
    .blue-banner {
      background-color: #007bff;
      height: 60px;
      width: 100%;
    }

    .main-container {
      display: flex;
      width: 100%;
    }

    .sidebar {
      width: 300px;
      background-color: #344a77;
      color: white;
      padding: 20px 10px;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0.5;
      bottom: 0;
      left: 0;
      z-index: 1;
      overflow-y: auto;
    }

    .sidebar h2 {
      font-size: 1.2rem;
      text-align: center;
      margin-bottom: 20px;
      color: white;
    }

    .sidebar button {
      width: 100%;
      margin-bottom: 10px;
      padding: 20px;
      font-size: 1.3rem;
      background-color: #5a6cae;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
    }

    .sidebar button:hover {
      background-color: #eff1f6;
      transform: scale(1.05);
    }

    .content-area {
      margin-left: 320px;
      padding: 20px;
      text-align: center;
      padding-top: 50px;
      width: calc(100% - 320px);
      height: 100vh;
      overflow-y: auto;
    }

    .content-area h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #344a77;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .content-area .title-underline {
      width: 80%;
      height: 50px;
      background-color: #5a6cae;
      margin: 0 auto;
      margin-bottom: 30px;
      border-radius: 5px;
    }

    .assessment-title {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 20px;
      color: #344a77;
      display: inline-block;
      padding-bottom: 5px;
      border-bottom: 3px solid #5a6cae;
    }

    .flip-card {
      background-color: transparent;
      width: 150px;
      height: 150px;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
      cursor: pointer;
    }

    .flip-card:hover .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-front, .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 3rem;
      font-weight: bold;
      border: 2px solid #5a6cae;
      border-radius: 10px;
    }

    .flip-card-front {
      background-color: #f0f0f0;
      color: #333;
    }

    .flip-card-back {
      background-color: #344a77;
      color: white;
      transform: rotateY(180deg);
    }

    .grid-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }

    .matching-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 80vh;
      padding: 20px;
    }

    .alphabets-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-left: 10px;
      align-items: flex-start;
    }

    .images-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      align-items: center;
      margin: auto;
    }

    
    /* Styling for the input field */
    #assessment1-score {
      width: 200px; /* Increase the width */
      height: 40px; /* Adjust the height */
      font-size: 1.2rem; /* Make the text larger */
      padding: 5px 10px; /* Add padding for better spacing */
      border: 2px solid #007bff; /* Add a border with a color */
      border-radius: 8px; /* Make the corners rounded */
      outline: none; /* Remove the default focus outline */
      transition: all 0.3s ease; /* Add a smooth transition effect */
    }

    /* Add a hover effect */
    #assessment1-score:hover {
      border-color: #0056b3; /* Change border color on hover */
    }

    /* Add a focus effect */
    #assessment1-score:focus {
      border-color: #0056b3; /* Change border color when focused */
      box-shadow: 0 0 8px rgba(0, 91, 187, 0.5); /* Add a glowing effect */
    }
    
    button {
      background-color: #4CAF50; /* Green background */
      color: white; /* White text */
      border: none; /* Remove borders */
      border-radius: 8px; /* Rounded corners */
      padding: 12px 24px; /* Padding */
      font-size: 16px; /* Font size */
      font-weight: bold; /* Bold text */
      cursor: pointer; /* Pointer cursor on hover */
      transition: all 0.3s ease; /* Smooth transition effect */
    }

    button:hover {
      background-color: #45a049; /* Slightly darker green on hover */
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2); /* Shadow effect */
      transform: translateY(-2px); /* Slight lift on hover */
    }

    button:active {
      background-color: #3e8e41; /* Even darker green when clicked */
      transform: translateY(2px); /* Slight depression on click */
    }

    button:disabled {
      background-color: #ccc; /* Gray background when disabled */
      cursor: not-allowed; /* Not-allowed cursor for disabled state */
      opacity: 0.6; /* Slightly transparent */
    }

    .draggable {
      cursor: grab;
      background-color: #f0f0f0;
      border: 2px solid #ccc;
      padding: 15px 15px;
      border-radius: 20px;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
    }

    .droppable {
      width: 100px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 2px dashed #ccc;
      border-radius: 5px;
      background-color: #fff;
    }

    .droppable img {
      max-width: 100%;
      max-height: 100%;
    }

    .mcq-container {
      text-align: left;
      margin: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .mcq-option {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .mcq-option button {
      font-size: 1.2rem;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #5a6cae;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .mcq-option button:hover {
      background-color: #3b4e8c;
    }

    .result {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .result.correct {
      color: green;
    }

    .result.wrong {
      color: red;
    }
  </style>
</head>
<body>
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

        <a href="index.html" class="logo d-flex align-items-center me-auto">
            <h1 class="sitename">ISL Mate</h1>
        </a>

        <nav id="navmenu" class="navmenu">
            <ul>
                <li><a href="index.html?lang=mr">Home</a></li>
                <li><a href="about.html?lang=mr">About</a></li>
                <li><a href="menu.html?lang=mr">Menu</a></li>
                <li><a href="contact.html?lang=mr">Contact</a></li>
                <li><a href="instructions.html?lang=mr">Instructions</a></li>
            </ul>
            <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
    </div>
</header>
<main class="main">
  <div class="page-title" data-aos="fade">
    <div class="heading">
      <div class="container">
        <div class="row d-flex justify-content-center text-center">
          <div class="col-lg-8">
            <h1>Fun with Assessements</h1>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<body>
  <div class="main-container">
    <div class="sidebar">
      <h2>TAKE THE ASSESSMENTS</h2>
      <button onclick="showAssessment(1)">Assessment 1</button>
      <button onclick="showAssessment(2)">Assessment 2</button>
      <button onclick="showAssessment(3)">Assessment 3</button>
      <button onclick="showAssessment(4)">Assessment 4</button>
      <button onclick="showAssessment(5)">Assessment 5</button>
    </div>

    <div class="content-area">
      <h1></h1>
      <div id="assessment-content"></div>
    </div>
  </div>

  <script>
    let scores = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };
    let maxScores = { 1: 16, 2: 5, 3: 10, 4: 5, 5: 5 }; // Max scores per assessment

    function validateScore(input) {
      const max = parseInt(input.max, 10);
      const min = parseInt(input.min, 10);
      if (input.value > max) input.value = max;
      if (input.value < min) input.value = min;
    }

    function createFlipCard(frontText, backImagePath) {
      return `
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">${frontText}</div>
            <div class="flip-card-back">
              <img src="${backImagePath}" alt="${frontText}" style="width:100px; height:100px;">
            </div>
          </div>
        </div>
      `;
    }

    function createFlipCardWithVideo(imageSrc, altText, videoSrc) {
      return `
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="${imageSrc}" alt="${altText}" style="width: 100%; height: 100%;">
            </div>
            <div class="flip-card-back">
              <video width="100%" height="100%" controls preload="none" class="lazy-video">
                <source src="${videoSrc}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
        </div>
      `;
    }

    function createMCQOption(optionText, isCorrect) {
      return `
        <div class="mcq-option">
          <button onclick="showResult(this, ${isCorrect})">${optionText}</button>
        </div>
      `;
    }

    function showResult(button, isCorrect) {
      const resultDiv = document.createElement('div');
      resultDiv.className = result `${isCorrect ? 'correct' : 'wrong'}`;
      resultDiv.textContent = isCorrect ? '✔ Correct!' : '✘ Wrong!';

      if (!isCorrect) {
        resultDiv.innerHTML += ` Correct answer: ${button.getAttribute('data-correct')}`;
      }

      button.parentElement.appendChild(resultDiv);
      button.disabled = true;
      if (isCorrect) {
        scores[assessmentNumber]++;
      }
    }

    function showAssessment(assessmentNumber) {
      const contentDiv = document.getElementById('assessment-content');
      contentDiv.innerHTML = '';

      switch (assessmentNumber) {
        case 1:
          contentDiv.innerHTML = `
            <h2 class="assessment-title">Assessment 1</h2>
            <p style="font-size: 1.5rem; font-weight: bold;">1. Try the signs for the alphabets given below using your hands.</p>
            <div class="grid-container">
              ${createFlipCard("P", "assets/img/assessment-1/P.png")}
              ${createFlipCard("Z", "assets/img/assessment-1/Z.png")}
              ${createFlipCard("F", "assets/img/assessment-1/F.png")}
              ${createFlipCard("A", "assets/img/assessment-1/A.png")}
            </div>
            <div class="grid-container">
              ${createFlipCard("T", "assets/img/assessment-1/T.png")}
              ${createFlipCard("V", "assets/img/assessment-1/V.png")}
              ${createFlipCard("R", "assets/img/assessment-1/R.png")}
              ${createFlipCard("B", "assets/img/assessment-1/B.png")}
            </div><p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">2. Try the signs for the numbers given below using your hands.</p>
            <div class="grid-container">
              ${createFlipCard("5", "assets/img/assessment-1/5.png")}
              ${createFlipCard("8", "assets/img/assessment-1/8.png")}
              ${createFlipCard("3", "assets/img/assessment-1/3.png")}
              ${createFlipCard("7", "assets/img/assessment-1/7.png")}
            </div>
            <div class="grid-container">
              ${createFlipCard("2", "assets/img/assessment-1/2.png")}
              ${createFlipCard("9", "assets/img/assessment-1/9.png")}
              ${createFlipCard("6", "assets/img/assessment-1/6.png")}
              ${createFlipCard("1", "assets/img/assessment-1/1.png")}
            </div>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">How many you got correct:</p>
            <input type="number" id="assessment1-score" placeholder="Enter your score" min="0" max="16" oninput="validateScore(this)">
            <button onclick="saveScore(1, document.getElementById('assessment1-score').value)">Next Assessment</button>
          `;
          break;

        case 2:
          contentDiv.innerHTML = `
            <h2 class="assessment-title">Assessment 2</h2>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">Match the following:</p>
            <div class="matching-container">
              <div class="alphabets-container">
                <div class="draggable" draggable="true" data-letter="C">C</div>
                <div class="draggable" draggable="true" data-letter="D">D</div>
                <div class="draggable" draggable="true" data-letter="Q">Q</div>
                <div class="draggable" draggable="true" data-letter="Y">Y</div>
                <div class="draggable" draggable="true" data-letter="Z">Z</div>
              </div>
              <div class="images-container">
                <div class="droppable" data-letter="Q">
                  <img src="assets/img/assessment-2/Q.png" alt="Q">
                </div>
                <div class="droppable" data-letter="Y">
                  <img src="assets/img/assessment-2/Y.png" alt="Y">
                </div>
                <div class="droppable" data-letter="D">
                  <img src="assets/img/assessment-2/D.png" alt="D">
                </div>
                <div class="droppable" data-letter="Z">
                  <img src="assets/img/assessment-2/Z.png" alt="Z">
                </div>
                <div class="droppable" data-letter="C">
                  <img src="assets/img/assessment-2/C.png" alt="C">
                </div>
              </div>
            </div>
            <button onclick="saveScore(2, calculateDragAndDropScore())">Next Assessment</button>
          `;
          enableDragAndDrop();
          break;

        case 3:
          contentDiv.innerHTML = `
            <h2 class="assessment-title">Assessment 3</h2>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">Try the signs for the words given below using your hands:</p>
            <div class="grid-container">
              ${createFlipCardWithVideo('assets/img/assessment-3/dog.jpeg', 'Dog', "assets/img/assessment-3/videos/dog.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/baby.jpeg', 'Baby', "assets/img/assessment-3/videos/baby.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/apple.jpeg', 'Apple', "assets/img/assessment-3/videos/Apple.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/bag.jpeg', 'Bag', "assets/img/assessment-3/videos/Bag.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/water.jpeg', 'Water', "assets/img/assessment-3/videos/water.MOV")}
            </div>
            <div class="grid-container">
              ${createFlipCardWithVideo('assets/img/assessment-3/family.jpeg', 'Family', "assets/img/assessment-3/videos/Family.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/horse.jpeg', 'Horse', "assets/img/assessment-3/videos/horse.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/house.jpeg', 'House', "assets/img/assessment-3/videos/house.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/teeth.jpeg', 'Teeth', "assets/img/assessment-3/videos/Teeth.MOV")}
              ${createFlipCardWithVideo('assets/img/assessment-3/night.jpeg', 'Night', "assets/img/assessment-3/videos/night.MOV")}
            </div>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">How many you got correct:</p>
            <input type="number" id="assessment1-score" placeholder="Enter your score" min="0" max="10" oninput="validateScore(this)">
            <button onclick="saveScore(3, document.getElementById('assessment1-score').value)">Next Assessment</button>
          `;
          break;

        case 4:
          contentDiv.innerHTML = `
            <h2 class="assessment-title">Assessment 4</h2>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">Choose the correct option for the missing value in the sequence of alphabets:</p>
            <div class="mcq-container">
                <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">1) P Q _ S:</p>
                <div class="mcq-option">
                    ${generateMCQ(['D', 'R', 'X', 'G'], 1, 'R', '4')}
                </div>
                <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">2) A B C _ :</p>
                <div class="mcq-option">
                    ${generateMCQ(['Q', 'F', 'K', 'D'], 2, 'D', '4')}
                </div>
                <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">3) _ X Y Z :</p>
                <div class="mcq-option">
                    ${generateMCQ(['W', 'V', 'A', 'X'], 3, 'W', '4')}
                </div>
                <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">4) H _ J K :</p>
                <div class="mcq-option">
                    ${generateMCQ(['I', 'D', 'M', 'S'], 4, 'I', '4')}
                </div>
                <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">5 _ T U V :</p>
                <div class="mcq-option">
                    ${generateMCQ(['H', 'S', 'K', 'B'], 5, 'S', '4')}
                </div>
            </div>
            <button onclick="saveScore(4, scores[4])">Next Assessment</button>
          `;
          break;

        case 5:
          contentDiv.innerHTML = `
            <h2 class="assessment-title">Assessment 5</h2>
            <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">Choose the correct option for the missing value in the sequence of numbers:</p>
            <div class="mcq-container">
              <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">1) 4 _ 6:</p>
              <div class="mcq-option">
                ${generateMCQ(['2', '3', '9', '5'], 1, '5', '5')}
              </div>
              <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">2) _ 3 4:</p>
              <div class="mcq-option">
                ${generateMCQ(['8', '9', '2', '1'], 2, '2', '5')}
              </div>
              <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">3) 7 8 _ :</p>
              <div class="mcq-option">
                ${generateMCQ(['0', '3', '5', '9'], 3, '9', '5')}
              </div>
              <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">4) 5 _ 7 :</p>
              <div class="mcq-option">
                ${generateMCQ(['6', '0', '3', '1'], 4, '6', '5')}
              </div>
              <p style="font-size: 1.5rem; font-weight: bold; margin-top: 20px;">5) _ 1 2 :</p>
              <div class="mcq-option">
                ${generateMCQ(['0', '6', '4', '8'], 5, '0', '5')}
              </div>
            </div>
            <button onclick="saveScore(5, scores[5])">View Score</button>
          `;
          break;

        default:
          contentDiv.innerHTML = '<p>No assessment found!</p>';
          break;
      }
    }

    function generateMCQ(options, questionNumber, correctAnswer, assessmentNumber) {
        return options.map(option => `
            <label style="margin-right: 20px; cursor: pointer; display: inline-block;">
                <input type="radio" name="q${questionNumber}" value="${option}" style="display: none;" 
                       onclick="checkAnswerAssessment45(this, ${questionNumber}, '${correctAnswer}', ${assessmentNumber})">
                <img src="assets/img/assessment-4,5/${option}.png" alt="${option}" 
                     style="width: 100px; height: 100px; border: 2px solid #ccc; border-radius: 5px; padding: 5px;">
            </label>
        `)
        .join('') + `<div id="result-q${questionNumber}" style="margin-top: 10px; font-size: 1.2rem;"></div>`;
    }

    function checkAnswer(radioButton, assessmentNumber, correctAnswer) {
        const resultDiv = document.getElementById(`result-q${assessmentNumber}`);
        if (radioButton.value === correctAnswer) {
            resultDiv.textContent = "Correct!";
            resultDiv.style.color = "green";
            scores[4]++; // Ensure the correct index is updated
        } else {
            resultDiv.textContent = `Incorrect. Correct answer: ${correctAnswer}`;
            resultDiv.style.color = "red";
        }
    }

    function checkAnswerAssessment45(selectedOption, questionNumber, correctAnswer, assessmentNumber) {
        const resultDiv = document.getElementById(`result-q${questionNumber}`);
    
        // Check if the selected answer matches the correct answer
        if (selectedOption.value === correctAnswer) {
            resultDiv.innerHTML = "Correct!";
            resultDiv.style.color = "green";
            // Update the score for the correct answer
            scores[assessmentNumber]++;
        } else {
            resultDiv.innerHTML = `Incorrect! The correct answer is: ${correctAnswer}`;
            resultDiv.style.color = "red";
        }

        // Optionally, disable the radio buttons after selection
        const radioButtons = document.getElementsByName(`q${questionNumber}`);
        radioButtons.forEach(radio => radio.disabled = true);
    }

        // Highlight selected image and reset others
         const options = document.getElementsByName(`q${questionNumber}`);
        options.forEach(option => {
            const img = option.parentElement.querySelector('img');
            img.style.border = '2px solid #ccc'; // Reset all borders
        });

    function nextAssessment(nextAssessmentNumber) {
      showAssessment(nextAssessmentNumber);
    }

    function saveScore(assessmentNumber, score) {
        score = parseInt(score, 10) || 0; // Default to 0 if invalid
        if (score >= 0 && score <= maxScores[assessmentNumber]) {
            scores[assessmentNumber] = score;
           //console.log(Saved Assessment ${assessmentNumber} Score:, score); // Debug log
            if (assessmentNumber < 5) showAssessment(assessmentNumber + 1);
            else viewScore();
        } else {
            alert(`Invalid score! Please enter a value between 0 and ${maxScores[assessmentNumber]}.`);
        } 
    }

    function enableDragAndDrop() {
      const draggables = document.querySelectorAll('.draggable');
      const droppables = document.querySelectorAll('.droppable');

      draggables.forEach(draggable => {
        draggable.addEventListener('dragstart', () => {
          draggable.classList.add('dragging');
        });

        draggable.addEventListener('dragend', () => {
          draggable.classList.remove('dragging');
        });
      });

      droppables.forEach(droppable => {
        droppable.addEventListener('dragover', e => {
          e.preventDefault();
          const draggable = document.querySelector('.dragging');
          droppable.appendChild(draggable);
        });
      });
    }

    function calculateDragAndDropScore() {
      let score = 0;
      const droppables = document.querySelectorAll('.droppable');
      droppables.forEach(droppable => {
        const letter = droppable.getAttribute('data-letter');
        const child = droppable.querySelector('.draggable');
        if (child && child.getAttribute('data-letter') === letter) {
          score++;
        }
      });
      console.log("Assessment 2 score:", score); // Debug log
      return score;
    }

    function viewScore() {
      const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
      let scoreText = "<h2>Your Scores:</h2>";
      for (let i = 1; i <= 5; i++) {
        scoreText += `<p>Assessment ${i}: ${scores[i]} out of ${maxScores[i]}</p>`;
      }
      scoreText += `<p><strong>Total Score: ${totalScore} out of ${Object.values(maxScores).reduce((a, b) => a + b, 0)}</strong></p>`;
      document.getElementById('assessment-content').innerHTML = scoreText;
    }
  </script>


</body>